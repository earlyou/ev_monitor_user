<!doctype html>
<html class="no-js" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/x-icon" href="/evcsmonitor/img2/favicon.png">
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <link rel="stylesheet" href="/evcsmonitor/css2/bootstrap.min.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/owl.carousel.min.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/magnific-popup.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/font-awesome.min.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/themify-icons.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/nice-select.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/flaticon.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/jquery-ui.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/gijgo.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/animate.min.css">
    <link rel="stylesheet" href="/evcsmonitor/css2/slicknav.css">

    <link rel="stylesheet" href="/evcsmonitor/css2/style.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    
<style>
#logoimgset{
	width:60%;
	height:60%;
}
#logoimgset2{
	width:75%;
	height:75%;
}
</style>
</head>
<script th:inline="javascript">
var stompClient = null;
var id = null;
// 서버소켓에 연결
function connect() {
	var socket = new SockJS('/ws');
	stompClient = Stomp.over(socket);

	stompClient.connect({}, function(frame) {
		setConnected(true);
		console.log('Connected: ' + frame);
		stompClient.subscribe('/sends/' + id, function(msg) {
			$("#chatmsg").append(
					'<div class="chat_message_wrapper chat_message_right">'+
					'	<ul class="chat_message">'+
					'		<li>'+
					'			<p>'+JSON.parse(msg.body).content1+'</p>'+
					'		</li>'+
					'	</ul>'+
					'</div>');
			$("#chatmsg").append(
					'<div class="chat_message_wrapper">'+
					'	<div class="chat_user_avatar">'+
					'		<img src="/images/chatbotlogo.png" class="md-user-image">'+
					'	</div>'+
					'	<ul class="chat_message">'+
					'		<li>'+
					'			<p>'+JSON.parse(msg.body).content2+'</p>'+
					'		</li>'+
					'	</ul>'+
					'</div>');
		});
		stompClient.subscribe('/send/serversend', function(msg) {
			$("#servermsg1").text(JSON.parse(msg.body).content1);
			$("#servermsg2").text(JSON.parse(msg.body).content2);
		});
	});
}

// connect&disconnect버튼 활성화/비활성화
function setConnected(connected) {
	if (connected) {
		$("#status").text("Connected");
	} else {
		$("#status").text("Disconnected");
	}

}
// 서버소켓에 연결끊기
function disconnect() {
	if (stompClient !== null) {
		stompClient.disconnect();
	}
	setConnected(false);
	console.log("Disconnected");
}

function clearTextarea() { // 텍스트 입력 후 전송 시 input 초기화
	$('#metext').val('');
}

function scrollDown() { // 텍스트 입력 후 전송 시 스크롤 아래로
	$('#chat').scrollTop($('#chat').prop('scrollHeight'));
}

function sendMe() {

	var msg = JSON.stringify({
		'sendid' : id,
		'content1' : $('#metext').val()
	});
	stompClient.send("/receiveme", {}, msg);
	clearTextarea();

}

$(document).ready(function() {
	$("#connect").click(function() {
		connect();
	});
	$("#disconnect").click(function() {
		disconnect();
	});
	$("#sendme").click(function() {
		sendMe();
		scrollDown();
	});
});

$(function() {
	$("#connect").click(function() {
		$('#sidebar_secondary').addClass('popup-box-on');
	});

	$("#disconnect").click(function() {
		$('#sidebar_secondary').removeClass('popup-box-on');
	});
})
</script>
<body>
    <!-- header-start -->
    <header>
        <div class="header-area ">
            <div id="sticky-header" class="main-header-area">
                <div class="container-fluid ">
                    <div class="header_bottom_border">
                        <div class="row align-items-center">
                            <div class="col-xl-3 col-lg-2">
                                <div class="logo" id="logodiv">
                                    <a th:href="@{/}">
                                        <img src="/evcsmonitor/img2/logo.png" alt="" id="logoimgset">
                                    </a>
                                </div>
                            </div>
                            <div class="col-xl-6 col-lg-7">
                                <div class="main-menu  d-none d-lg-block">
                                    <nav>
                                        <ul id="navigation">
                                            <li><a th:href="@{/}">home</a></li>
                                            <!-- 
                                            호버 메뉴
                                            <li><a th:href="jobs.html">소개</a></li>
                                            <li><a href="#">pages <i class="ti-angle-down"></i></a>
                                                <ul class="submenu">
                                                    <li><a th:href="candidate.html">커뮤니티</a></li>
                                                    <li><a th:href="job_details.html">고객센터</a></li>
                                                    <li><a th:href="elements.html">공지사항</a></li>
                                                </ul>
                                            </li>
                                            <li><a href="#">blog <i class="ti-angle-down"></i></a>
                                                <ul class="submenu">
                                                    <li><a th:href="blog.html">blog</a></li>
                                                    <li><a th:href="single-blog.html">single-blog</a></li>
                                                </ul>
                                            </li> -->
                                            <li><a th:href="@{/introintroduce}">소개</a></li>
                                            <li><a th:href="@{/cm}">커뮤니티</a></li>
                                            <li><a th:href="@{/customercenter}">고객센터</a></li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-3 d-none d-lg-block">
                                <div class="Appointment">
                                    <div th:if="${session.loginmember == null}">
			                        	<a class="boxed-btn3"  th:href="@{/tos}">
			                            	<i class="fa fa-pencil-square-o fa-lg"></i>
			                            	회원가입 
			                        	</a>
			                        	<a class="boxed-btn3" th:href="@{/login}">
			                            	<i class="fa fa-sign-in fa-lg"></i>
			                            	로그인 
			                        	</a>
                   					</div>
                   					<div th:unless="${session.loginmember == null}">
			                        	<a class="boxed-btn3" th:href="@{/mypagemyprofile}">
			                            	<i class="fa fa-user-o fa-lg"></i>
			                            	내 프로필 
			                        	</a>                   		
			                        	<a class="boxed-btn3" th:href="@{/logout}">
			                            	<i class="fa fa-sign-out fa-lg"></i>
			                            	로그아웃 
			                        	</a>
			                   		</div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="mobile_menu d-block d-lg-none"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </header>
    <!-- header-end -->
    
    
    <div th:insert="${center} ? ${center} : center">
    </div>
   
   
    <!-- footer start -->
    <footer class="footer">
        <div class="footer_top">
            <div class="container">
                <div class="row">
                    <div class="col-xl-4 col-md-6 col-lg-3">
                        <div class="footer_widget wow fadeInUp" data-wow-duration="1s" data-wow-delay=".3s">
                            <div class="footer_logo">
                                <a>
                                    <img th:src="@{img2/logo.png}" alt="" id="logoimgset2">
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-md-6 col-lg-3">
                        <div class="footer_widget wow fadeInUp" data-wow-duration="1.1s" data-wow-delay=".4s">
                            <h3 class="footer_title">
                                Representative
                            </h3>
                            <ul>
                                <li>팀장: 한규정</li>
                                <li>팀원: 서예린, 신승욱, 유정아, 이석희</li>
                                <li>사업자번호: 123-12-12345(5조가 쵝5죠)</li>
                            </ul>

                        </div>
                    </div>
                    <div class="col-xl-4 col-md-6 col-lg-3">
                        <div class="footer_widget wow fadeInUp" data-wow-duration="1.2s" data-wow-delay=".5s">
                            <h3 class="footer_title">
                                Contact
                            </h3>
                            <ul>
                                <li>이메일: gjhansc@gmail.com</li>
                                <li>전화번호: (02)951-1234</li>
                                <li>주소: 서울특별시 강남구 역삼동</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="copy-right_text wow fadeInUp" data-wow-duration="1.4s" data-wow-delay=".3s">
            <div class="container">
                <div class="footer_border"></div>
                <div class="row">
                    <div class="col-xl-12">
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--/ footer end  -->


    <!-- link that opens popup -->
    <!-- JS here -->
    <script src="/evcsmonitor/js2/vendor/modernizr-3.5.0.min.js"></script>
    <script src="/evcsmonitor/js2/vendor/jquery-1.12.4.min.js"></script>
    <script src="/evcsmonitor/js2/popper.min.js"></script>
    <script src="/evcsmonitor/js2/bootstrap.min.js"></script>
    <script src="/evcsmonitor/js2/owl.carousel.min.js"></script>
    <script src="/evcsmonitor/js2/isotope.pkgd.min.js"></script>
    <script src="/evcsmonitor/js2/ajax-form.js"></script>
    <script src="/evcsmonitor/js2/waypoints.min.js"></script>
    <script src="/evcsmonitor/js2/jquery.counterup.min.js"></script>
    <script src="/evcsmonitor/js2/imagesloaded.pkgd.min.js"></script>
    <script src="/evcsmonitor/js2/scrollIt.js"></script>
    <script src="/evcsmonitor/js2/jquery.scrollUp.min.js"></script>
    <script src="/evcsmonitor/js2/wow.min.js"></script>
    <script src="/evcsmonitor/js2/nice-select.min.js"></script>
    <script src="/evcsmonitor/js2/jquery.slicknav.min.js"></script>
    <script src="/evcsmonitor/js2/jquery.magnific-popup.min.js"></script>
    <script src="/evcsmonitor/js2/plugins.js"></script>
    <script src="/evcsmonitor/js2/range.js"></script>
	
	

    <!--contact js-->
    <script src="/evcsmonitor/js2/contact.js"></script>
    <script src="/evcsmonitor/js2/jquery.ajaxchimp.min.js"></script>
    <script src="/evcsmonitor/js2/jquery.form.js"></script>
    <script src="/evcsmonitor/js2/jquery.validate.min.js"></script>
    <script src="/evcsmonitor/js2/mail-script.js"></script>


    <script src="/evcsmonitor/js2/main.js"></script>

</body>

</html>